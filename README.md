# Qravan 
Qravan — сервер имплементирующий протокол обмена данными СМЭВ QL версии 1.0.

## Установка и запуск
Установить сервер Qravan:

`gem install qravan`

Запустить сервер Qravan:

`qravan run`

## Методы сервера
Сервер содержит следующие методы:
1. GET /models — список загруженных моделей
2. GET /sources — список загруженных источников
3. POST /query — выполнить запрос


## Настройка моделей данных и ресурсов
### Модели
Модели данных описываются в соответствии со спецификацией СМЭВ QL в формате 
YAML в папке `models/[model_name]/[model_version x.x]/model.yaml`

Версионирование моделей должно осуществляться в двухразрядном формате. 
По-умолчанию сервер запускает модель по симлинку с `current`. 

### Ресурсы
Источники описывются также в соответствии со спецификацией СМЭВ QL в формате
YAML в папке `sources/[source_name]/[source_version x.x]/source.yaml`

Версионирование источников должно осуществляться в двухразрядном формате. 
По-умолчанию сервер запускает источники по симлинку с `current`.

```
qravan
│ README.md
│ credentials.yaml 
│      
└─models
│   └─base
│   │ │ current
│   │ └─1.0
│   │   │ model.yaml
│   │
│   └─vehicles
│     │ current
│     └─1.0
│     │ └─ model.yaml
│     └─2.0
│       └─ model.yaml
│     
└─sources
│   └─vehicles
│     │ current
│     └─1.0
│     │ └─ source.yaml
│     └─2.0
│       └─ source.yaml
```
